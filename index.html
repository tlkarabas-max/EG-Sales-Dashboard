<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Performance Dashboard</title>
  <style>
    /* ... all your existing styles remain ... */
  </style>
</head>
<body>
  <div id="loginSection">
    <!-- ... your login UI ... -->
  </div>

  <div id="staffView" class="hidden">
    <!-- ... your staff dashboard ... -->
  </div>

  <div id="adminView" class="hidden">
    <!-- ... your admin dashboard ... -->
  </div>

  <!-- LIVE DATA SECTIONS ONLY: Old Data Management Center and CSV Upload buttons have been removed -->
  <section>
    <h2>Live Appointments Data</h2>
    <ul id="appointments"></ul>
  </section>
  <section>
    <h2>Live Sales Data</h2>
    <ul id="sales"></ul>
  </section>
  <section>
    <h2>Live Memberships Data</h2>
    <ul id="memberships"></ul>
  </section>
  <section>
    <h2>Live NS OOT Data</h2>
    <ul id="ns_oot"></ul>
  </section>
  <section>
    <h2>Live Payroll Data</h2>
    <ul id="payroll"></ul>
  </section>

  <script>
    // Helper function to fetch and display data
    function fetchAndDisplay(endpoint, elementId, formatter) {
      fetch(endpoint)
        .then(response => response.json())
        .then(data => {
          const ul = document.getElementById(elementId);
          ul.innerHTML = "";
          data.forEach(item => {
            const li = document.createElement('li');
            li.textContent = formatter(item);
            ul.appendChild(li);
          });
        })
        .catch(err => {
          document.getElementById(elementId).innerHTML = "<li style='color:red;'>Error loading data</li>";
          console.error("Fetch error for " + endpoint, err);
        });
    }

    // Formatters for each data type -- adjust if you want to show other fields!
    fetchAndDisplay("http://127.0.0.1:5000/api/appointments", "appointments", item =>
      `${item["Appointment Date"] || item["Sales Date"]}: ${item["Booked By"] || item["Guest Name"]} (${item["Service Category"] || ""})`
    );
    fetchAndDisplay("http://127.0.0.1:5000/api/sales", "sales", item =>
      `${item["Sales Date"]}: ${item["Guest Name"]} - ${item["Type"] || ""} - ${item["Invoice No"] || ""}`
    );
    fetchAndDisplay("http://127.0.0.1:5000/api/memberships", "memberships", item =>
      `${item["Member Name"] || item["Guest Name"]}: ${item["Membership Type"] || item["Type"] || ""}`
    );
    fetchAndDisplay("http://127.0.0.1:5000/api/ns_oot", "ns_oot", item =>
      `${item["Sales Date"]}: ${item["Guest Name"]} - ${item["Guest City"]}, ${item["Guest State"]} (${item["Employee"] || ""})`
    );
    fetchAndDisplay("http://127.0.0.1:5000/api/payroll", "payroll", item =>
      `${item["Employee Name"] || item["Employee"]}: ${item["Hours Worked"] || ""}`
    );
  </script>
</body>
</html>